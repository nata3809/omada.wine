---
import "../styles/style.css";
---

<form>
  <div>
    <label for="name">Navn</label>
    <input class="input_1" type="text" name="name" required />
  </div>
  <div>
    <label for="overskrift">Overskrift</label>
    <input type="text" name="overskrift" required />
  </div>
  <div>
    <label for="text">Tekst</label>
    <input class="input_3" type="text" name="text" required />
  </div>
  <button>SEND</button>
</form>
<script>
  const url =
    "https://wlrutedtihqwkugzmcmi.supabase.co/rest/v1/testimonials_ovelse";
  const key =
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndscnV0ZWR0aWhxd2t1Z3ptY21pIiwicm9sZSI6ImFub24iLCJpYXQiOjE2Nzg3ODcwNTYsImV4cCI6MTk5NDM2MzA1Nn0.F5VBPCrTKdlJ0bp8Cc3UbOICDSkA-Fn26ybayxENve4";

  const form = document.querySelector("form");
  form.addEventListener("submit", sendForm);

  function sendForm(event) {
    event.preventDefault();
    const formData = form.elements;
    let name = formData.name.value;
    let text = formData.text.value;
    let overskrift = formData.overskrift.value;

    //console.log(formData.name.value);

    fetch(url, {
      method: "POST",
      headers: {
        apikey: key,
        Accept: "application/json",
        "Content-Type": "application/json",
      },
      body: JSON.stringify({ name, text, overskrift }),
    });
  }
</script>

<style>
  button {
    list-style-type: none;
    border: solid #cf2e2e;
    border-radius: 5px;
    background-color: #fffef3;
    padding: 10px 40px 10px 40px;
    margin: 10px;
    transition-duration: 0.4s;
  }

  a {
    text-decoration: none;
    color: #cf2e2e;
  }
  button:hover,
  a:hover {
    color: #fffef3;
    background-color: #cf2e2e;
  }

  input {
    background-color: #fffef3;
    border: solid #cf2e2e;
    border-radius: 5px;
    padding: 10px 40px 10px 40px;
    margin: 10px;
  }

  label {
    font-family: "Jost", sans-serif;
    color: black;

    margin: 20px;
  }

  .input_1 {
    margin-left: 40px;
  }

  .input_3 {
    margin-left: 42px;
  }
</style>
